(library
  (name        fix_simulation)
  (public_name fix-engine.fix_simulation)
  (wrapped  false)
  (modules (:standard \ server client))
  (libraries 
       lwt.unix
        fix-engine.venue
        fix-engine.fix_engine
        fix-engine.core_pp
        fix-engine.core_time_defaults
        fix-engine.core_time_defaults_pp
        fix-engine.protocol_pp
        fix-engine.conversions    
  )
)

(executable
  (name server)
  (modules server)
  (libraries 
      lwt.unix
      fix-engine.venue
      fix-engine.fix_engine
      fix-engine.fix_simulation
      fix-engine.protocol_pp
      fix-engine.conversions
  )
)

(executable
  (name client)
  (modules client)
  (libraries 
      yojson
      lwt.unix
      fix-engine.venue
      fix-engine.fix_engine
      fix-engine.fix_simulation
      fix-engine.conversions
      fix-engine.protocol_pp
      fix-engine.types_pp
      cmdliner
      ZMQ
      lwt-zmq
  )
)
